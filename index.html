<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
</head>

<body>

    <script src="https://web-button.mati.io/button.js"></script>
    
    <mati-button 
        clientid="6093fe1820df63001be1e4e9"
        language="en"
        flowId="611d51d1cdc451001b2318f9"
        metadata='{"fixedLanguage":"en"}' 
    />
    
    <!-- https://signup.getmati.com/?merchantToken=
    6093fe1820df63001be1e4e9
    &metadata=%7B%22email%22%3A%22jazmin%2B8%40buda.com%22%7D
    &flowId=611d51d1cdc451001b2318f9
    &color=blue&locale=es
    &identityId=6139025ee385e9001bfd2d14
    &origin=qr_code_redirection&verificationId=6139025ee385e9001bfd2d17 -->


    <script>
        //Setting a fixed language based on browser's language;
        const $ = document.querySelector.bind(document);
        const matiButton = $("mati-button")
        const deviceLanguage = window.navigator.language.slice(0,2)
        const botao = $("botao")

        const metadataAtt = `{"fixedLanguage":"${deviceLanguage}"}`

        $('mati-button').setAttribute('metadata', metadataAtt)
        $('mati-button').setAttribute('language', deviceLanguage)

        matiButton.addEventListener('click', e => console.log('teste'))
    </script>
</body>

</html>